# FluxHero Backend Configuration
# Copy this file to .env and update with your values

# ============================================================================
# Authentication
# ============================================================================

# Secret key for API and WebSocket authentication
# IMPORTANT: Change this to a secure random value in production
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
FLUXHERO_AUTH_SECRET=fluxhero-dev-secret-change-in-production

# ============================================================================
# API Configuration
# ============================================================================

# API metadata
FLUXHERO_API_TITLE=FluxHero API
FLUXHERO_API_DESCRIPTION=REST API for FluxHero adaptive quant trading system
FLUXHERO_API_VERSION=1.0.0

# ============================================================================
# CORS Configuration
# ============================================================================

# Allowed CORS origins (comma-separated list)
# Add production frontend URLs here
FLUXHERO_CORS_ORIGINS=["http://localhost:3000","http://localhost:3001","http://127.0.0.1:3000"]

# Allow credentials in CORS requests
FLUXHERO_CORS_ALLOW_CREDENTIALS=true

# Allowed HTTP methods (comma-separated or "*" for all)
FLUXHERO_CORS_ALLOW_METHODS=["*"]

# Allowed headers (comma-separated or "*" for all)
FLUXHERO_CORS_ALLOW_HEADERS=["*"]

# ============================================================================
# Alpaca API Configuration
# ============================================================================

# Alpaca API endpoints
FLUXHERO_ALPACA_API_URL=https://paper-api.alpaca.markets
FLUXHERO_ALPACA_WS_URL=wss://stream.data.alpaca.markets

# Alpaca credentials (required)
FLUXHERO_ALPACA_API_KEY=your_api_key_here
FLUXHERO_ALPACA_API_SECRET=your_api_secret_here

# ============================================================================
# Risk Management Configuration
# ============================================================================

# Position-level limits (R11.1)
# Maximum risk per position for trend-following strategies (default: 1%)
FLUXHERO_MAX_RISK_PCT_TREND=0.01
# Maximum risk per position for mean reversion strategies (default: 0.75%)
FLUXHERO_MAX_RISK_PCT_MEAN_REV=0.0075
# Maximum position size as percentage of account (default: 20%)
FLUXHERO_MAX_POSITION_SIZE_PCT=0.20

# Portfolio-level limits (R11.2)
# Maximum total portfolio exposure (default: 50%)
FLUXHERO_MAX_TOTAL_EXPOSURE_PCT=0.50
# Maximum number of open positions (default: 5)
FLUXHERO_MAX_OPEN_POSITIONS=5
# Correlation threshold for position size reduction (default: 0.7)
FLUXHERO_CORRELATION_THRESHOLD=0.7
# Position size reduction when correlation exceeds threshold (default: 50%)
FLUXHERO_CORRELATION_SIZE_REDUCTION=0.50

# Stop loss settings (R11.1.4)
# ATR multiplier for trend-following stop losses (default: 2.5)
FLUXHERO_TREND_STOP_ATR_MULTIPLIER=2.5
# Fixed stop loss percentage for mean reversion (default: 3%)
FLUXHERO_MEAN_REV_STOP_PCT=0.03

# ============================================================================
# Data Storage Configuration
# ============================================================================

FLUXHERO_CACHE_DIR=data/cache
FLUXHERO_LOG_FILE=logs/daily_reboot.log

# ============================================================================
# Market Data Configuration
# ============================================================================

FLUXHERO_DEFAULT_TIMEFRAME=1h
FLUXHERO_INITIAL_CANDLES=500
